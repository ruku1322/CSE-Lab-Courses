#include <stdio.h>
#include <string.h>

int main() {
    // Declare necessary variables
    char str[100], id1[50], id2[50], id3[50];
    int A = -1, B = -1, C = -1;


    printf("Enter one line code: \n");
    fgets(str, sizeof(str), stdin);


    for (int i = 0; i < strlen(str); i++) {
        if (str[i] == '=') {
            A = i - 1;
        } else if (str[i] == '+') {
            B = i - 1;
            printf("MOVF id3,R2\n");
            printf("MULF 50.0,R2\n");
            printf("MOVF id2,R1\n");
            printf("ADDF R2,R1\n");
            printf("MOVF R1,id1\n");
        } else if (str[i] == '-') {
            B = i - 1;
            printf("MOVF id3,R2\n");
            printf("MULF 50.0,R2\n");
            printf("MOVF id2,R1\n");
            printf("SUBF R2,R1\n");
            printf("MOVF R1,id1\n");
        } else if (str[i] == '*') {
            C = i - 1;
        }
    }

    strncpy(id1, str, A + 1);
    id1[A + 1] = '\0';

    strncpy(id2, str + A + 2, B - (A + 1));
    id2[B - (A + 1)] = '\0';

    strncpy(id3, str + B + 2, C - (B + 1));
    id3[C - (B + 1)] = '\0';


    printf("You entered id1: %s\n", id1);
    printf("You entered id2: %s\n", id2);
    printf("You entered id3: %s\n", id3);

    return 0;
}

